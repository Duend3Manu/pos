{% extends "base.html" %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h3>üßÅ Productos</h3>
    <button class="btn btn-primario" data-bs-toggle="modal" data-bs-target="#modalProducto">
        + Nuevo Producto
    </button>
</div>

<div class="pos-box">
    <table class="table table-striped table-pos">
        <thead>
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Categor√≠a</th>
                <th>Precio</th>
                <th>Stock</th>
            </tr>
        </thead>
        <tbody>
            {% for p in productos %}
            <tr>
                <td style="text-align: center;">{{ p.id }}</td>
                <td style="text-align: left;">{{ p.nombre }}</td>
                <td style="text-align: left;">{{ p.categoria }}</td>
                <td>${{ p.precio | clp }}</td>
                <td>{{ p.stock }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- Modal Nuevo Producto -->
<div class="modal fade" id="modalProducto" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content p-4">
      <form action="/productos/nuevo" method="POST">
        <h4 class="mb-3">Nuevo Producto</h4>
        <input class="form-control mb-2" name="nombre" placeholder="Nombre" required>
        <input class="form-control mb-2" name="categoria" placeholder="Categor√≠a">
        <input class="form-control mb-2" type="number" name="precio" placeholder="Precio" required>
        <input class="form-control mb-2" type="number" name="stock" placeholder="Stock" required>
        <button class="btn btn-primario w-100 mt-3">Guardar</button>
      </form>
    </div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}